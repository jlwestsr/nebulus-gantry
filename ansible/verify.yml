---
- name: Verify Nebulus Gantry Environment
  hosts: local
  gather_facts: false
  tasks:
    - name: Verify venv exists
      ansible.builtin.stat:
        path: "{{ playbook_dir }}/../venv"
      register: venv_stat
      failed_when: not venv_stat.stat.exists

    - name: Verify pip in venv
      ansible.builtin.stat:
        path: "{{ playbook_dir }}/../venv/bin/pip"
      register: pip_stat
      failed_when: not pip_stat.stat.exists
